import{jQueryNoConflict}from"./jquery-no-conflict";import"jquery.marquee";let marqueeTarget=jQueryNoConflict("#ehanlin-header div.marquee"),marqueeCloseTarget=jQueryNoConflict("#ehanlin-header i.marquee-close"),isShowMarqueeClose=!0,runMarquee=()=>{jQueryNoConflict.ajax({type:"get",url:"/Marquee",dataType:"json"}).then(e=>{if(e&&e.length>0){let r;marqueeTarget.removeAttr("style"),jQueryNoConflict.each(e,(e,o)=>{"system"===o.type&&(isShowMarqueeClose=!1),r=jQueryNoConflict('<li style="display: none"></li>').addClass("marquee-content").css({"background-color":o.backgroundColor}).html(o.text),marqueeTarget.css({"background-color":o.backgroundColor}),marqueeTarget.find("ul").append(r)})}}).then(()=>{jQueryNoConflict("#ehanlin-header li.marquee-content").show(),marqueeTarget.marquee({duration:15e3}),!0===isShowMarqueeClose&&marqueeCloseTarget.removeAttr("style")}).then(()=>{jQueryNoConflict("#ehanlin-header i.marquee-close").on("click",e=>{jQueryNoConflict(e.currentTarget).parents("#ehanlin-marquee").remove()})})};export{runMarquee};