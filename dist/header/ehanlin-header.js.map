{"version":3,"file":"ehanlin-header.js","sources":["../../minify-temp/header/jquery-no-conflict.js","../../minify-temp/header/ehanlin-retrieve-user.js","../../minify-temp/header/ehanlin-cart.js","../../minify-temp/header/ehanlin-run-marquee.js","../../minify-temp/header/main.js"],"sourcesContent":["import jQuery3_2_1 from\"jquery/dist/jquery.min\";let jQueryNoConflict=jQuery3_2_1.noConflict(!0);export{jQueryNoConflict};","import{jQueryNoConflict}from\"./jquery-no-conflict\";let ajaxUtil=(o,t,e)=>(\"GET\"!==o&&e&&(e=JSON.stringify(e)),jQueryNoConflict.ajax({type:o,cache:!1,crossDomain:!0,url:t,data:e,contentType:\"application/json; charset=UTF-8\",dataType:\"json\"})),onLogOut=()=>{jQueryNoConflict(\"#logoutButton\").on(\"click\",()=>{ajaxUtil(\"PUT\",\"/Users/521d946be4b0d765448570bd/!logout\").then(()=>{window.location=\"https://\"+window.location.hostname})})},logIn=()=>{ajaxUtil(\"GET\",\"/ms-user-status/userStatus\").then(o=>{let t=`<a href='/Users/${o.id}.html'> ${o.studentCard} ${o.name} </a>\\n        <span style='color:#9B9B9B'> | </span>\\n        <li><a id='logoutButton'>登出</a></li>\\n        <span style='color:#9B9B9B'> | </span>`;jQueryNoConflict(\"#loginSuccess\").append(t),jQueryNoConflict(\"#loginBotton\").remove(),jQueryNoConflict(\"#register\").remove(),onLogOut()},()=>{jQueryNoConflict(\"ul.header-menu\").removeAttr(\"style\")}).then(()=>{jQueryNoConflict(\"ul.header-menu\").removeAttr(\"style\")})};export{jQueryNoConflict};export{logIn};","import{jQueryNoConflict}from\"./jquery-no-conflict\";let showCart=()=>{jQueryNoConflict.get(\"/my/owned/Carts.json\",{ts:(new Date).getTime()},t=>{t.success&&t.result&&jQueryNoConflict(\"#car_sum\").text(t.result.items.length)})};export{showCart};","import{jQueryNoConflict}from\"./jquery-no-conflict\";import\"jquery.marquee\";let marqueeTarget=jQueryNoConflict(\"#ehanlin-header div.marquee\"),marqueeCloseTarget=jQueryNoConflict(\"#ehanlin-header i.marquee-close\"),isShowMarqueeClose=!0,runMarquee=()=>{jQueryNoConflict.ajax({type:\"get\",url:\"/Marquee\",dataType:\"json\"}).then(e=>{if(e&&e.length>0){let r;marqueeTarget.removeAttr(\"style\"),marqueeCloseTarget.removeAttr(\"style\"),jQueryNoConflict.each(e,(e,o)=>{\"system\"===o.type&&(isShowMarqueeClose=!1),r=jQueryNoConflict('<li style=\"display: none\"></li>').addClass(\"marquee-content\").css({\"background-color\":o.backgroundColor}).html(o.text),marqueeTarget.css({\"background-color\":o.backgroundColor}),marqueeTarget.find(\"ul\").append(r)})}}).then(()=>{jQueryNoConflict(\"#ehanlin-header li.marquee-content\").show(),marqueeTarget.marquee({duration:15e3}),!0===isShowMarqueeClose&&marqueeCloseTarget.removeAttr(\"style\")}).then(()=>{jQueryNoConflict(\"#ehanlin-header i.marquee-close\").on(\"click\",e=>{jQueryNoConflict(e.currentTarget).parents(\"#ehanlin-marquee\").remove()})})};export{runMarquee};","import{logIn}from\"./ehanlin-retrieve-user\";import{showCart}from\"./ehanlin-cart\";import{runMarquee}from\"./ehanlin-run-marquee\";logIn(),showCart(),runMarquee();"],"names":["jQueryNoConflict","jQuery3_2_1","noConflict","ajaxUtil","o","t","e","JSON","stringify","ajax","type","cache","crossDomain","url","data","contentType","dataType","onLogOut","on","then","location","window","hostname","logIn","id","studentCard","name","append","remove","removeAttr","showCart","get","ts","Date","getTime","success","result","text","items","length","marqueeTarget","marqueeCloseTarget","isShowMarqueeClose","runMarquee","r","each","addClass","css","backgroundColor","html","find","show","marquee","duration","currentTarget","parents"],"mappings":"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"}